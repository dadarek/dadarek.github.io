!function(){window.EventFetcher=function(){function e(e,r){this.calendarId=e,this.dateHelper=r}return e.prototype.fetch=function(e){var r,a,n,t,d,c,s,o,i,l=this;return r="AIzaSyD3mz_TsiOrV_q0Q1brqiTwP-Cy_72RIBQ",a=function(e){return new Date(e).toISOString()},i=this.dateHelper.daysFromToday(0),o=this.dateHelper.daysFromToday(8),t="https://www.googleapis.com/calendar/v3/calendars/"+this.calendarId+"/events"+"?singleEvents=true"+("&key="+r)+("&timeMin="+a(i))+("&timeMax="+a(o)),s="/calendar/?"+("&calendarId="+this.calendarId)+("&timeMin="+a(i))+("&timeMax="+a(o)),_gaq.push(["_trackEvent","Calendar Loading",this.calendarId]),d=function(r){return _gaq.push(["_trackEvent","Calendar Loaded",l.calendarId]),e(r),_gaq.push(["_trackEvent","Calendar Rendered",l.calendarId])},n=function(e){return $.ajax({type:"GET",url:encodeURI(e.url),dataType:"json",success:d,error:e.error})},c=function(){return _gaq.push(["_trackEvent","Falling back on local calendar"]),n({url:s,error:function(e){var r;return r="id: "+l.calendarId+"\nurl: "+s+"\nresponseText: "+e.responseText+"\nstatusText: "+e.statusText,_gaq.push(["_trackEvent","Calendar Load Error",r])}})},n({url:t,error:c})},e}()}.call(this);