/*
 * jQuery Reveal Plugin 1.1
 * www.ZURB.com
 * Copyright 2010, ZURB
 * Free to use under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
*/
!function(e){"use strict";var n=!1;e(document).on("click","a[data-reveal-id]",function(n){n.preventDefault();var a=e(this).attr("data-reveal-id");e("#"+a).reveal(e(this).data())}),e.fn.reveal=function(a){var o=e(document),i={animation:"fadeAndPop",animationSpeed:300,closeOnBackgroundClick:!0,dismissModalClass:"close-reveal-modal",open:e.noop,opened:e.noop,close:e.noop,closed:e.noop};return a=e.extend({},i,a),this.not(".reveal-modal.open").each(function(){function i(){m=!1}function l(){m=!0}function t(){var a=e(".reveal-modal.open");1===a.length&&(n=!0,a.trigger("reveal:close"))}function r(){m||(l(),t(),p.addClass("open"),"fadeAndPop"===a.animation&&(g.open.top=o.scrollTop()-u,g.open.opacity=0,p.css(g.open),f.fadeIn(a.animationSpeed/2),p.delay(a.animationSpeed/2).animate({top:o.scrollTop()+v+"px",opacity:1},a.animationSpeed,function(){p.trigger("reveal:opened")})),"fade"===a.animation&&(g.open.top=o.scrollTop()+v,g.open.opacity=0,p.css(g.open),f.fadeIn(a.animationSpeed/2),p.delay(a.animationSpeed/2).animate({opacity:1},a.animationSpeed,function(){p.trigger("reveal:opened")})),"none"===a.animation&&(g.open.top=o.scrollTop()+v,g.open.opacity=1,p.css(g.open),f.css({display:"block"}),p.trigger("reveal:opened")))}function d(){m||(l(),p.removeClass("open"),"fadeAndPop"===a.animation&&(p.animate({top:o.scrollTop()-u+"px",opacity:0},a.animationSpeed/2,function(){p.css(g.close)}),n?p.trigger("reveal:closed"):f.delay(a.animationSpeed).fadeOut(a.animationSpeed,function(){p.trigger("reveal:closed")})),"fade"===a.animation&&(p.animate({opacity:0},a.animationSpeed,function(){p.css(g.close)}),n?p.trigger("reveal:closed"):f.delay(a.animationSpeed).fadeOut(a.animationSpeed,function(){p.trigger("reveal:closed")})),"none"===a.animation&&(p.css(g.close),n||f.css({display:"none"}),p.trigger("reveal:closed")),n=!1)}function c(){p.unbind(".reveal"),f.unbind(".reveal"),s.unbind(".reveal"),e("body").unbind(".reveal")}var s,p=e(this),v=parseInt(p.css("top"),10),u=p.height()+v,m=!1,f=e(".reveal-modal-bg"),g={open:{top:0,opacity:0,visibility:"visible",display:"block"},close:{top:v,opacity:1,visibility:"hidden",display:"none"}};0===f.length&&(f=e("<div />",{"class":"reveal-modal-bg"}).insertAfter(p),f.fadeTo("fast",.8)),p.bind("reveal:open.reveal",r),p.bind("reveal:close.reveal",d),p.bind("reveal:opened.reveal reveal:closed.reveal",i),p.bind("reveal:closed.reveal",c),p.bind("reveal:open.reveal",a.open),p.bind("reveal:opened.reveal",a.opened),p.bind("reveal:close.reveal",a.close),p.bind("reveal:closed.reveal",a.closed),p.trigger("reveal:open"),s=e("."+a.dismissModalClass).bind("click.reveal",function(){p.trigger("reveal:close")}),a.closeOnBackgroundClick&&(f.css({cursor:"pointer"}),f.bind("click.reveal",function(){p.trigger("reveal:close")})),e("body").bind("keyup.reveal",function(e){27===e.which&&p.trigger("reveal:close")})})}}(jQuery);